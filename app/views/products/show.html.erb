<div class="container py-5" style="max-width: 720px;">
  <div class="card shadow-sm">
    <div class="card-body p-4">
      <h1 class="h3 text-center mb-2"><%= @product.name %></h1>
      <p class="text-center text-muted mb-4"><%= @product.description %></p>

      <% if @selected_variant %>
        <%= form_with url: cart_items_path, scope: :cart_item, data: { turbo: false } do |f| %>
          <%= f.hidden_field :product_variant_id, value: @selected_variant.id %>

          <div class="text-center mb-4">
            <h5 class="fw-semibold"><%= @selected_variant.size %></h5>
            <p class="mb-1 text-muted">Stock: <%= @selected_variant.stock %></p>
            <p class="fs-5 fw-semibold">$<%= number_with_delimiter(@selected_variant.price) %></p>
          </div>

          <div class="d-flex justify-content-center align-items-end gap-3">
            <div>
              <label class="form-label">Cantidad</label>
              <%= f.number_field :quantity, value: 1, min: 1, step: 1, class: "form-control", style: "width:6rem;", required: true %>
            </div>
            <%= f.submit "Agregar al carrito", class: "btn btn-success px-4" %>
            <%= link_to "Volver a productos", products_path, class: "btn btn-outline-secondary" %>
          </div>
        <% end %>
      <% else %>
        <p class="text-center text-danger">No se encontr√≥ la variante seleccionada.</p>
      <% end %>
    </div>
  </div>
</div>
